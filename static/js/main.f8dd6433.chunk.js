(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{17:function(e,t,a){},22:function(e,t,a){e.exports=a(32)},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(2),o=a(4),l=a(3),s=(a(17),"http://localhost:8000/api/"),m=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},i=function(e,t){return e.location.pathname===t?{color:"#2ecc72"}:{color:"#FFFFFF"}},u=Object(o.g)((function(e){var t=e.history;return r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs bg-dark"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/"),className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/cart"),className:"nav-link",to:"/cart"},"Cart")),m()&&0===m().user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/user/dashboard"),className:"nav-link",to:"/user/dashboard"},"U.Dashboard")),m()&&1===m().user.role&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/admin/dashboard"),className:"nav-link",to:"/admin/dashboard"},"A.Dashboard")),!m()&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/signup"),className:"nav-link",to:"/signup"},"Signup")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(c.b,{style:i(t,"/signin"),className:"nav-link",to:"/signin"},"Signin"))),m()&&r.a.createElement("li",{className:"nav-item"},r.a.createElement("span",{className:"nav-link text-warning",onClick:function(){!function(e){if(console.log("hello"),void 0!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(s,"/signout"),{method:"GET"}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/"),console.log("history is problem")}))}},"Signout"))))})),d=function(e){var t=e.title,a=void 0===t?"My title":t,n=e.description,c=void 0===n?"My description":n,o=e.className,l=void 0===o?"bg-dark text-white p-4 text-center":o,s=e.children;return r.a.createElement("div",{className:"bg-dark"},r.a.createElement(u,null),r.a.createElement("div",{className:"container-fluid   "},r.a.createElement("div",{className:" jumbotron text-black text-center mt-0  "},r.a.createElement("h2",{className:"display-5"},a),r.a.createElement("p",{className:"lead"},c)),r.a.createElement("div",{className:l}," ",s)),r.a.createElement("footer",{className:"footer bg-dark mt-5 py-3"},r.a.createElement("div",{className:"container-fluid bg-success text-white text-center py-3"},r.a.createElement("h4",null,"If you got any questions, feel free to reach out!"),r.a.createElement("button",{className:"btn btn-warning btn-lg"},"Contact Us")),r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},"An Amazing ",r.a.createElement("span",{className:"text-white"},"MERN")," Bootcamp"))))},p=function(e){var t=e.product,a=t?"".concat(s,"/product/photo/").concat(t._id):"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940";return r.a.createElement("div",{className:"rounded border-class p-2 "},r.a.createElement("img",{src:a,alt:"photo",style:{maxHeight:"100%",maxWidth:"100%"},className:"mb-3 rounded"}))},f=a(1),g=function(e){var t=e.product,a=e.addtocart,c=void 0===a||a,s=e.removefromCart,m=void 0!==s&&s,i=e.setReload,u=void 0===i?function(e){return e}:i,d=e.reload,g=void 0===d?void 0:d,b=Object(n.useState)(!1),E=Object(l.a)(b,2),h=E[0],N=E[1],v=function(){!function(e,t){var a=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.push(Object(f.a)({},e)),localStorage.setItem("cart",JSON.stringify(a)),t())}(t,(function(){return N(!0)}))};return r.a.createElement("div",{className:"card card-color category-block card-border "},r.a.createElement("div",{className:"card-header header-border header-text lead"},t.name),r.a.createElement("div",{className:"card-body"},r.a.createElement(p,{product:t}),r.a.createElement("h6",null,t.description),r.a.createElement("p",{className:"btn price-btn rounded  btn-sm px-4"},"$ ",t.price),r.a.createElement("div",{className:"row"},function(e){return e&&r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:v,className:"btn btn-block btn-border mt-2 mb-2"},"Add to Cart"))}(c),function(e){if(e)return r.a.createElement(o.a,{to:"/cart"})}(h),function(e){return e&&r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:function(){!function(e){var t=[];void 0!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(a,n){a._id===e&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)))}(t._id),u(!g)},className:"btn btn-block btn-outline-danger mt-2 mb-2"},"Remove from cart"))}(m))))},b=function(){return fetch("".concat(s,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},E=function(){return fetch("".concat(s,"/products"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},h=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2);s[0],s[1];return Object(n.useEffect)((function(){E().then((function(e){e.error?console.log(e.error):e.err?console.log(e.err):c(e)}))}),[]),r.a.createElement(d,{title:"Home page",description:"first react page"},r.a.createElement("div",{className:"row align-content-center"},a.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-md-3 mb-3"},r.a.createElement(g,{product:e}))}))))},N=a(8),v=function(){var e=Object(n.useState)({name:"",email:"",password:"",error:"",success:!1}),t=Object(l.a)(e,2),a=t[0],o=t[1],m=a.name,i=a.email,u=a.password,p=a.error,g=a.success,b=function(e){return function(t){o(Object(f.a)(Object(f.a)({},a),{},Object(N.a)({error:!1},e,t.target.value)))}},E=function(e){var t;e.preventDefault(),o(Object(f.a)(Object(f.a)({},a),{},{error:!1})),(t={name:m,email:i,password:u},fetch("".concat(s,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.errors?o(Object(f.a)(Object(f.a)({},a),{},{error:e.errors,success:!1})):o(Object(f.a)(Object(f.a)({},a),{},{name:"",email:"",password:"",error:"",success:!0}))})).catch(console.log("Error in signup"))};return r.a.createElement(d,{title:"Sign up page",description:"A page for user to sign up!"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-success",style:{display:g?"":"none"}},"New account was created successfully. Please"," ",r.a.createElement(c.b,{to:"/signin"},"Login Here")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:p?"":"none"}},p))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Name"),r.a.createElement("input",{className:"form-control",onChange:b("name"),type:"text",value:m})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{className:"form-control",onChange:b("email"),type:"email",value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{onChange:b("password"),className:"form-control",type:"password",value:u})),r.a.createElement("button",{onClick:E,className:"btn btn-success btn-block"},"Submit")))),r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(a)))},j=function(){var e=Object(n.useState)({email:"rsharma@gmail.com",password:"12369",error:"",loading:!1,didRedirect:!1}),t=Object(l.a)(e,2),a=t[0],c=t[1],i=a.email,u=a.password,p=a.error,g=a.loading,b=a.didRedirect,E=m().user,h=function(e){return function(t){c(Object(f.a)(Object(f.a)({},a),{},Object(N.a)({error:!1},e,t.target.value)))}},v=function(e){e.preventDefault(),c(Object(f.a)(Object(f.a)({},a),{},{error:!1,loading:!0})),function(e){return fetch("".concat(s,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({email:i,password:u}).then((function(e){e.errors?c(Object(f.a)(Object(f.a)({},a),{},{error:e.errors,loading:!1})):e.err?c(Object(f.a)(Object(f.a)({},a),{},{error:e.err,loading:!1})):function(e,t){void 0!==typeof window&&(console.log("hey"),localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){c(Object(f.a)(Object(f.a)({},a),{},{didRedirect:!0}))}))})).catch(console.log("signin request failed"))};return r.a.createElement(d,{title:"Signin page",description:"A page where user can sign in the account"},g&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null," Loading..")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("div",{className:"alert alert-danger",style:{display:p?"":"none"}},p))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-sm-3 text-left"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Email"),r.a.createElement("input",{onChange:h("email"),className:"form-control",type:"email",value:i})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-light"},"Password"),r.a.createElement("input",{onChange:h("password"),className:"form-control",type:"password",value:u})),r.a.createElement("button",{onClick:v,className:"btn btn-success btn-block "},"submit")))),function(){if(b)return E&&1==E.role?r.a.createElement(o.a,{to:"/admin/dashboard"}):r.a.createElement(o.a,{to:"/user/dashboard"})}(),r.a.createElement("p",{className:"text-white text-center"},JSON.stringify(a)))},y=a(12),O=function(e){var t=e.component,a=Object(y.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return m()?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},k=function(e){var t=e.component,a=Object(y.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return m()&&1===m().user.role?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},x=function(){return r.a.createElement(d,{title:"User Dashboard",description:"This is user Dashboard"},r.a.createElement("h1",null,"This is user dashboard page"))},w=function(){var e=m().user,t=e.name,a=e.email;e.role;return r.a.createElement(d,{title:" Welcome to Admin Dashboard",description:"Admin can manage products and orders from here",className:"container bg-dark p-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"card"},r.a.createElement("h4",{className:"card-header bg-info text-white"}," Admin Navigation"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link text-black-50",to:"/admin/create/category"},"Create Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link text-black-50",to:"/admin/category"},"Manage Categories")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link text-black-50",to:"/admin/create/product"},"Create Products")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link text-black-50",to:"/admin/products"},"Manage Products")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link text-black-50",to:"/admin/orders"},"Manage Orders"))))),r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"card mb-4"},r.a.createElement("h4",{className:"card-header bg-success text-white"}," Admin Information"),r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Name:")," ",t),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("span",{className:"badge badge-success mr-2"},"Email:")," ",a),r.a.createElement("li",{className:"list-group-item"},r.a.createElement(c.b,{className:"nav-link  mt-5 text-center"},"Change Admin Info ")))))))},S=function(){var e=Object(n.useState)({name:"",product_type:""}),t=Object(l.a)(e,2),a=t[0],o=t[1],i=a.name,u=a.product_type,p=Object(n.useState)(!1),g=Object(l.a)(p,2),b=g[0],E=g[1],h=Object(n.useState)(!1),v=Object(l.a)(h,2),j=v[0],y=v[1],O=m(),k=O.user,x=O.token,w=function(e){return function(t){E(""),o(Object(f.a)(Object(f.a)({},a),{},Object(N.a)({},e,t.target.value)))}},S=function(e){e.preventDefault(),E(""),y(!1),console.log(typeof u),function(e,t,a){return console.log(JSON.stringify(a)),fetch("".concat(s,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(k._id,x,{product_type:u,name:i}).then((function(e){e.error||e.err?E(!0):(E(""),y(!0),o(Object(f.a)(Object(f.a)({},a),{},{product_type:"",name:""})))}))};return r.a.createElement(d,{title:"Create Category here",description:"Add new categories for products here",className:"container category-block p-4 "},r.a.createElement("div",{className:"row  rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},function(){if(j)return r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h4",{className:"text-success"},"Category Created Successfully"))}(),function(){if(b)return r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h4",{className:"text-danger"},"Category creation Failed"))}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("h3",{className:"lead text-info bold "},"Enter the category"),r.a.createElement("input",{className:"form-control my-3",type:"text",autoFocus:!0,onChange:w("product_type"),value:u,required:!0,placeholder:"For Ex. Shoes"}),r.a.createElement("input",{className:"form-control my-3",type:"text",autoFocus:!0,onChange:w("name"),value:i,required:!0,placeholder:"For Ex. Summer"}),r.a.createElement("button",{className:"btn btn-outline-info",onClick:S},"Create Category"))),r.a.createElement("div",{className:"mt-5"},r.a.createElement(c.b,{className:"btn btn-sm btn-success mb-3",to:"/admin/dashboard"},"Admin Home")))))},C=function(){return r.a.createElement(d,{title:"Manage Categories Here",description:"Admin can manage Product categories here",className:"container category-block p-4"},r.a.createElement("div",{className:"row rounded "},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("h3",{className:"text-center"}," Assignment"))))},A=function(){var e=m(),t=e.user,a=e.token,c=Object(n.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getaRedirect:!1,formData:""}),o=Object(l.a)(c,2),i=o[0],u=o[1],p=i.name,g=i.description,E=i.price,h=i.stock,v=(i.photo,i.categories),j=(i.category,i.loading,i.error),y=i.createdProduct,O=(i.getaRedirect,i.formData),k=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;O.set(e,a),u(Object(f.a)(Object(f.a)({},i),{},Object(N.a)({},e,a)))}},x=function(e){e.preventDefault(),u(Object(f.a)(Object(f.a)({},i),{},{loading:!0,error:""})),function(e,t,a){return fetch("".concat(s,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,a,O).then((function(e){e.error?u(Object(f.a)(Object(f.a)({},i),{},{error:e.error})):e.err?u(Object(f.a)(Object(f.a)({},i),{},{error:e.err})):(u(Object(f.a)(Object(f.a)({},i),{},{name:"",description:"",price:"",stock:"",photo:"",loading:!1,createdProduct:e.name})),console.log(y))}))};Object(n.useEffect)((function(){b().then((function(e){console.log(e),e.error?u(Object(f.a)(Object(f.a)({},i),{},{error:e.error})):e.err?u(Object(f.a)(Object(f.a)({},i),{},{error:e.err})):(u(Object(f.a)(Object(f.a)({},i),{},{categories:e,formData:new FormData})),console.log(v))}))}),[]);return r.a.createElement(d,{title:"Add New Products",description:"Create new products from here",className:"container category-block p-4"},r.a.createElement("div",{className:"row  rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:y?"":"none"}},r.a.createElement("h4",null,y," created successfully")),r.a.createElement("div",{className:"alert alert-danger mt-3",style:{display:j?"":"none"}},r.a.createElement("h4",null,"Product creation failed")),r.a.createElement("form",null,r.a.createElement("span",null,"Post photo"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"btn btn-block btn-info"},r.a.createElement("input",{onChange:k("photo"),type:"file",name:"photo",accept:"image",placeholder:"choose a file"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:k("category"),className:"form-control",placeholder:"categogry",onfocus:"size=5"},r.a.createElement("option",{className:"bold"},"Select"),v&&function(e){for(var t=[],a=0;a<e.length;){for(var n=e[a].product_type,c=a,o=[];c<e.length&&e[c].product_type===n;)o.push(r.a.createElement("option",{key:c,value:e[c]._id}," ",e[c].name)),c++;t.push(r.a.createElement("optgroup",{label:e[a].product_type},o)),a=c}return t}(v))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("name"),name:"photo",className:"form-control",placeholder:"Name",value:p})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:k("description"),name:"photo",className:"form-control",placeholder:"Description",value:g})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("price"),type:"number",className:"form-control",placeholder:"Price",value:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:k("stock"),type:"number",className:"form-control",placeholder:"Quantity",value:h})),r.a.createElement("button",{type:"submit",onClick:x,className:"btn btn-outline-info"},"Create Product")))))},P=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],i=m(),u=i.user,p=i.token,f=function(){E().then((function(e){e.error?console.log(e.error):e.err?console.log(e.err):o(e)}))};Object(n.useEffect)((function(){f()}),[]);var g=function(e){(function(e,t,a){return fetch("".concat(s,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,u._id,p).then((function(e){e.error?console.log(e.error):e.err?console.log(e.err):f()}))};return r.a.createElement(d,{title:"Welcome admin",description:"Manage products here",className:"text-left text-white p-4 "},r.a.createElement(c.b,{className:"btn btn-info",to:"/admin/dashboard"},r.a.createElement("span",{className:"text-left"},"Admin Home")),r.a.createElement("h2",{className:"mb-4 text-center"},"All products:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h2",{className:"text-center text-white  mb-4"},"Total ",a.length," products"),a.map((function(e,t){return r.a.createElement("div",{key:t,className:"row text-center mb-2 "},r.a.createElement("div",{className:"col-4"},r.a.createElement("h3",{className:"text-white text-left"}," ",e.name)),r.a.createElement("div",{className:"col-4"},r.a.createElement(c.b,{className:"btn btn-success",to:"/admin/product/update/".concat(e._id)},r.a.createElement("span",{className:""},"Update"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:function(){g(e._id)},className:"btn btn-danger"},"Delete")))})))))},D=function(e){var t=e.match,a=m(),c=a.user,o=a.token,i=Object(n.useState)({name:"",description:"",price:"",stock:"",photo:"",categories:[],category:"",loading:!1,error:"",createdProduct:"",getaRedirect:!1,formData:""}),u=Object(l.a)(i,2),p=u[0],g=u[1],E=p.name,h=p.description,v=p.price,j=p.stock,y=(p.photo,p.categories),O=(p.category,p.loading,p.error),k=p.createdProduct,x=(p.getaRedirect,p.formData),w=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;x.set(e,a),g(Object(f.a)(Object(f.a)({},p),{},Object(N.a)({},e,a))),console.log(p)}},S=function(e){e.preventDefault(),g(Object(f.a)(Object(f.a)({},p),{},{loading:!0,error:""})),console.log(x),function(e,t,a,n){return fetch("".concat(s,"/product/").concat(a,"/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:n}).then((function(e){return console.log(e),e.json()})).catch((function(e){return console.log(e)}))}(c._id,o,t.params.productId,x).then((function(e){console.log(e),e.error?g(Object(f.a)(Object(f.a)({},p),{},{error:e.error})):e.err?g(Object(f.a)(Object(f.a)({},p),{},{error:e.err})):(g(Object(f.a)(Object(f.a)({},p),{},{name:"",description:"",price:"",stock:"",photo:"",loading:!1,createdProduct:e.name})),console.log(k))}))},C=function(e){(function(e){return fetch("".concat(s,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e).then((function(e){console.log(e),e.error?g(Object(f.a)(Object(f.a)({},p),{},{error:e.error})):e.err?g(Object(f.a)(Object(f.a)({},p),{},{error:e.err})):(g(Object(f.a)(Object(f.a)({},p),{},{name:e.name,description:e.description,price:e.price,stock:e.stock,category:e.category._id,formData:new FormData})),A())}))},A=function(){b().then((function(e){e.error?g(Object(f.a)(Object(f.a)({},p),{},{error:e.error})):e.err?g(Object(f.a)(Object(f.a)({},p),{},{error:e.err})):(g({categories:e,formData:new FormData}),console.log(p))}))};Object(n.useEffect)((function(){C(t.params.productId)}),[]);return r.a.createElement(d,{title:"Add  Products",description:"Create new products from here",className:"container category-block p-4"},r.a.createElement("div",{className:"row  rounded"},r.a.createElement("div",{className:"col-md-8 offset-md-2"},r.a.createElement("div",{className:"alert alert-success mt-3",style:{display:k?"":"none"}},r.a.createElement("h4",null,k," updated successfully")),r.a.createElement("div",{className:"alert alert-danger mt-3",style:{display:O?"":"none"}},r.a.createElement("h4",null,"Product updation failed")),r.a.createElement("form",null,r.a.createElement("span",null,"Post photo"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"btn btn-block btn-info"},r.a.createElement("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image",placeholder:"choose a file"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:w("name"),name:"photo",className:"form-control",placeholder:"Name",value:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:w("description"),name:"photo",className:"form-control",placeholder:"Description",value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:w("price"),type:"number",className:"form-control",placeholder:"Price",value:v})),r.a.createElement("div",{className:"form-group"},r.a.createElement("select",{onChange:w("category"),className:"form-control",placeholder:"categogry"},r.a.createElement("option",{className:"bold"},"Select"),y&&y.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:w("stock"),type:"number",className:"form-control",placeholder:"Quantity",value:j})),r.a.createElement("button",{type:"submit",onClick:S,className:"btn btn-outline-info"},"Update Product")))))},I=a(20),J=a.n(I),_=function(e){var t=e.products,a=(e.setReload,e.reload,m()),o=(a.user,a.token,Object(n.useState)({loading:!1,success:!1,error:"",address:""})),i=Object(l.a)(o,2),u=(i[0],i[1],function(){var e=0;return t.map((function(t){e+=t.price})),e});return r.a.createElement("div",{className:"text-white"},r.a.createElement("div",{className:"bg-info"}," Total Cart Price: ",r.a.createElement("strong",null," ",u())),r.a.createElement(J.a,{name:"make payment",amount:100*u(),stripeKey:"pk_test_51Gzg9lAe9QUHkBRfngIJUnXPBgmxb6UJkdoAY3Kn94JoCYMJvYRRAUFVdNYtOdylpGcFJegH5z7LkCNrcSth2I4100DiD0xTtJ",token:function(e){var a={token:e,products:t};return fetch("".concat(s,"/stripepayment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return console.log(e)}))}},m()?r.a.createElement("div",{className:"btn btn-outline-success mt-3"},"Pay $",u()):r.a.createElement(c.b,{className:"btn btn-warning mt-3",to:"/signin"},"SignIn")))},T=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),m=s[0],i=s[1];Object(n.useEffect)((function(){c(function(){if(void 0!==typeof window&&localStorage.getItem("cart"))return JSON.parse(localStorage.getItem("cart"))}())}),[m]);return r.a.createElement(d,{title:"Home page",description:"first react page"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col-3"},r.a.createElement("div",null,a.map((function(e,t){return r.a.createElement(g,{key:t,product:e,addtocart:!1,removefromCart:!0,setReload:i,reload:m})})))),r.a.createElement("div",{className:"col-9"},r.a.createElement(_,{products:a,setReload:i,reload:m}))))},F=function(){return r.a.createElement(c.a,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:h}),r.a.createElement(o.b,{path:"/signup",exact:!0,component:v}),r.a.createElement(o.b,{path:"/signin",exact:!0,component:j}),r.a.createElement(o.b,{path:"/cart",exact:!0,component:T}),r.a.createElement(O,{path:"/user/dashboard",exact:!0,component:x}),r.a.createElement(k,{path:"/admin/dashboard",exact:!0,component:w}),r.a.createElement(k,{path:"/admin/create/category",exact:!0,component:S}),r.a.createElement(k,{path:"/admin/category",exact:!0,component:C}),r.a.createElement(k,{path:"/admin/create/product",exact:!0,component:A}),r.a.createElement(k,{path:"/admin/products",exact:!0,component:P}),r.a.createElement(k,{path:"/admin/product/update/:productId",exact:!0,component:D})))},R=a(21);a.n(R).a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.f8dd6433.chunk.js.map